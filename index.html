<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Just enter your name</title>

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family: "Poppins", sans-serif;
}

body{
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
  text-align:center;
  color:white;
  transition:0.8s;
}

/* ---------- SCREENS ---------- */
.screen{
  display:none;
  width:100%;
  height:100%;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  padding:20px;
}

.active{ display:flex; }

/* ---------- PROFESSIONAL PAGE ---------- */
#start{
  background: linear-gradient(135deg,#1e3c72,#2a5298);
}

input{
  padding:18px;
  font-size:24px;
  border-radius:12px;
  border:none;
  width:70%;
  max-width:350px;
  margin:20px;
}

button{
  padding:18px 40px;
  font-size:24px;
  border:none;
  border-radius:14px;
  cursor:pointer;
  margin:15px;
}

/* ---------- CAMERA ---------- */
#camera{
  background:#111;
}

video{
  width:90%;
  max-width:420px;
  border-radius:20px;
}

/* ---------- VALENTINE PAGE ---------- */
#question{
  background:linear-gradient(135deg,#ff6a88,#ff99ac);
}

.bigtext{
  font-size:8vw;
  font-weight:bold;
  line-height:1.3;
}

#yes{
  background:#ff2e63;
  color:white;
}

#no{
  background:#444;
  color:white;
  position:absolute;
}

/* ---------- CELEBRATION ---------- */
#celebrate{
  background:#ff4e50;
  animation:colorChange 6s infinite;
}

@keyframes colorChange{
  0%{background:#ff4e50;}
  25%{background:#ff6a88;}
  50%{background:#ff9966;}
  75%{background:#ff5f6d;}
  100%{background:#ff4e50;}
}

#photo{
  width:250px;
  border-radius:20px;
  margin:20px;
}

/* flowers/fireworks */
.heart{
  position:absolute;
  font-size:30px;
  animation:float 4s linear infinite;
}

@keyframes float{
  0%{transform:translateY(100vh);opacity:1}
  100%{transform:translateY(-10vh);opacity:0}
}
</style>
</head>

<body>

<!-- -------- PAGE 1 -------- -->
<div id="start" class="screen active">
  <h1 class="bigtext">Enter Your Name</h1>
  <input id="nameInput" placeholder="Your name"/>
  <button onclick="goCamera()">Next ‚ûú</button>
</div>

<!-- -------- PAGE 2 CAMERA -------- -->
<div id="camera" class="screen">
  <video id="video" autoplay></video>
  <button onclick="takePhoto()">Take Photo üì∏</button>
</div>

<!-- -------- PAGE 3 QUESTION -------- -->
<div id="question" class="screen">
  <h1 id="questionText" class="bigtext"></h1>
  <div style="margin-top:40px;">
    <button id="yes" onclick="celebrate()">YES ‚ù§Ô∏è</button>
    <button id="no" onclick="moveNo()">NO</button>
  </div>
</div>

<!-- -------- PAGE 4 CELEBRATE -------- -->
<div id="celebrate" class="screen">
  <h1 class="bigtext">Happy Valentine ‚ù§Ô∏è</h1>
  <img id="photo"/>
</div>

<script>
let name="", photoData="";

/* change screens */
function show(id){
  document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

/* ---------- CAMERA ---------- */
async function goCamera(){
  name = document.getElementById("nameInput").value || "Friend";
  show("camera");

  const stream = await navigator.mediaDevices.getUserMedia({video:true});
  document.getElementById("video").srcObject = stream;
}

function takePhoto(){
  const video = document.getElementById("video");
  const canvas = document.createElement("canvas");
  canvas.width = video.videoWidth;
  canvas.height = video.videoHeight;

  canvas.getContext("2d").drawImage(video,0,0);
  photoData = canvas.toDataURL();

  document.getElementById("questionText").innerHTML =
    `${name},<br>Will you be my Valentine? ‚ù§Ô∏è`;

  show("question");
}

/* ---------- NO TELEPORT ---------- */
function moveNo(){
  const btn = document.getElementById("no");
  btn.style.left = Math.random()*80 + "vw";
  btn.style.top  = Math.random()*80 + "vh";
}

/* ---------- YES CELEBRATION ---------- */
function celebrate(){
  show("celebrate");
  document.getElementById("photo").src = photoData;

  setInterval(()=>{
    const heart = document.createElement("div");
    heart.className="heart";
    heart.innerHTML="üå∏‚ù§Ô∏è";
    heart.style.left=Math.random()*100+"vw";
    document.body.appendChild(heart);

    setTimeout(()=>heart.remove(),4000);
  },150);
}
</script>

</body>
</html>

