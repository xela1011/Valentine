<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>just enter your name</title>

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family: "Poppins", sans-serif;
}

/* ---------- BODY ---------- */
body{
  height:100vh;
  overflow:hidden;
  display:flex;
  justify-content:center;
  align-items:center;
  text-align:center;
  color:white;
  transition:1s;
}

/* ---------- SCREENS ---------- */
.screen{
  position:absolute;
  width:100%;
  height:100%;
  display:none;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  padding:20px;
}

.active{
  display:flex;
}

/* ---------- BIG TEXT ---------- */
.bigtext{
  font-size:8vw;
  font-weight:bold;
  line-height:1.3;
}

/* ---------- INPUT ---------- */
input{
  padding:20px;
  font-size:24px;
  border-radius:12px;
  border:none;
  margin:30px;
  width:75%;
  max-width:350px;
}

/* ---------- BUTTONS ---------- */
button{
  padding:18px 40px;
  font-size:24px;
  border-radius:14px;
  border:none;
  cursor:pointer;
  margin:20px;
}

/* ---------- PAGE 1 ---------- */
#start{
  background:linear-gradient(135deg,#1e3c72,#2a5298);
}

/* ---------- CAMERA ---------- */
#camera{
  background:#111;
}

/* ---------- QUESTION ---------- */
#question{
  background:linear-gradient(135deg,#ff6a88,#ff99ac);
}

#yes{
  background:#ff2e63;
  color:white;
}

#no{
  background:#444;
  color:white;
  position:absolute;
}

/* ---------- CELEBRATE ---------- */
#celebrate{
  animation:bgChange 8s infinite;
}

@keyframes bgChange{
  0%{background:#ff4e50;}
  25%{background:#ff6a88;}
  50%{background:#ff9966;}
  75%{background:#ff5f6d;}
  100%{background:#ff4e50;}
}

#photo{
  width:250px;
  border-radius:20px;
  margin-top:25px;
  box-shadow:0 0 20px rgba(0,0,0,0.4);
}

/* ---------- FLOATING HEARTS ---------- */
.heart{
  position:absolute;
  font-size:28px;
  animation:float 4s linear infinite;
}

@keyframes float{
  0%{transform:translateY(100vh);opacity:1}
  100%{transform:translateY(-10vh);opacity:0}
}
</style>
</head>

<body>

<!-- ---------- PAGE 1 ---------- -->
<div id="start" class="screen active">
  <h1 class="bigtext">Just Enter Your Name</h1>
  <input id="nameInput" placeholder="Your name"/>
  <button onclick="goCamera()">Next ‚ûú</button>
</div>

<!-- ---------- PAGE 2 (AUTO CAMERA) ---------- -->
<div id="camera" class="screen">
  <h1 class="bigtext">Capturing Photo üì∏</h1>
</div>

<!-- ---------- PAGE 3 ---------- -->
<div id="question" class="screen">
  <h1 id="questionText" class="bigtext"></h1>
  <div>
    <button id="yes" onclick="celebrate()">YES ‚ù§Ô∏è</button>
    <button id="no" onclick="moveNo()">NO</button>
  </div>
</div>

<!-- ---------- PAGE 4 ---------- -->
<div id="celebrate" class="screen">
  <h1 id="finalText" class="bigtext"></h1>
  <img id="photo"/>
</div>


<script>
let name="";
let photoData="";

/* ---------- SCREEN SWITCH ---------- */
function show(id){
  document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

/* ---------- AUTO CAMERA CAPTURE ---------- */
async function goCamera(){
  name = document.getElementById("nameInput").value || "Friend";
  show("camera");

  try{
    const stream = await navigator.mediaDevices.getUserMedia({video:true});
    const video = document.createElement("video");
    video.srcObject = stream;
    await video.play();

    setTimeout(()=>{
      const canvas = document.createElement("canvas");
      canvas.width = video.videoWidth;
      canvas.height = video.videoHeight;

      canvas.getContext("2d").drawImage(video,0,0);
      photoData = canvas.toDataURL();

      stream.getTracks().forEach(track => track.stop());

      document.getElementById("questionText").innerHTML =
  `${name},<br>Will you be my Valentine? ‚ù§Ô∏è`;

      show("question");

    },1000);

  }catch(e){
    alert("Camera permission required!");
    show("start");
  }
}

/* ---------- NO BUTTON TELEPORT ---------- */
function moveNo(){
  const btn = document.getElementById("no");
  btn.style.left = Math.random()*85 + "vw";
  btn.style.top  = Math.random()*85 + "vh";
}

/* ---------- YES CELEBRATION ---------- */
function celebrate(){
  show("celebrate");

  document.getElementById("photo").src = photoData;
  document.getElementById("finalText").innerHTML =
    `Happy Valentine ${name}! ‚ù§Ô∏è`;

  /* hearts + flowers */
  setInterval(()=>{
    const heart = document.createElement("div");
    heart.className="heart";
    heart.innerHTML = ["‚ù§Ô∏è","üå∏","üíñ","üíê","‚ú®"][Math.floor(Math.random()*5)];
    heart.style.left = Math.random()*100+"vw";
    document.body.appendChild(heart);

    setTimeout(()=>heart.remove(),4000);
  },150);
}
</script>

</body>
</html>

